{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "416f9a54_859d3273",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-05-03T20:57:45Z",
      "side": 1,
      "message": "`cd` will issue an error message of its own on failure; I don\u0027t think we need to duplicate it manually -- `cd \"${hid_conf_directory} || return` should be fine.",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7e2c2df_3be996b4",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1001397
      },
      "writtenOn": "2022-05-03T21:10:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "416f9a54_859d3273",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20fd8981_28979ea5",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 156,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-05-03T20:57:45Z",
      "side": 1,
      "message": "Likewise with the redundant error-reporting here (just `cd \"${hid_conf_directory}\" || exit`).",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "db27d150_b2e73ef5",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 156,
      "author": {
        "id": 1001397
      },
      "writtenOn": "2022-05-03T21:10:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "20fd8981_28979ea5",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a267ce6_d313052d",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 164,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-05-03T20:57:45Z",
      "side": 1,
      "message": "While we\u0027re at it with minor cleanups to this script, this should probably be more like:\n\n```\nelse\n    echo \u003e\u00262 \"...\"\n    exit 1\nfi\n```\n\ni.e. send the error message to stderr rather than stdout, and report the failure so that whatever invoked it doesn\u0027t mistakenly think it succeeded.",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "965c8e54_cefcd8d1",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 164,
      "author": {
        "id": 1001397
      },
      "writtenOn": "2022-05-03T21:10:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a267ce6_d313052d",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b20beda1_4d6e6297",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-05-03T20:57:45Z",
      "side": 1,
      "message": "Considering the script doesn\u0027t do anything after this anyway (and it\u0027s written to be executed as its own process, not sourced from someone\u0027s interactive shell or something), I\u0027d actually be in favor of just removing this `cd` entirely.",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62f4047c_9afbbf95",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1001397
      },
      "writtenOn": "2022-05-03T21:10:17Z",
      "side": 1,
      "message": "I\u0027d keep the cd for a case if this script is called individually, not from a service. Also, I\u0027ll keep the \u0027|| exit\u0027 to avoid shellcheck warning which is cheap and doesn\u0027t break the flow.",
      "parentUuid": "b20beda1_4d6e6297",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5a4a413_26f269d8",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-05-03T21:25:24Z",
      "side": 1,
      "message": "What do you mean by \"called individually\"?  If you mean just manually invoked from a shell, like:\n\n```\nroot@bmc:~# /usr/bin/create_usbhid.sh connect\n```\n\nthen the lack of the final `cd` still won\u0027t affect anything, since the script will only have changed its own working directory, which won\u0027t affect the parent shell process.\n\nThe only way I can see it having any effect at all is if someone goes out of their way to source it instead of executing it normally, like:\n\n```\nroot@bmc:~# source /usr/bin/create_usbhid.sh connect\n```\n\nbut I\u0027m having a pretty hard time imaging any reason why anyone would want to do that, and it doesn\u0027t seem like something this script should aim to support.\n\nAs it is it just seems like an unnecessary point of potential failure -- if the final `cd` _does_ fail for whatever weird reason, the script will report an error and make its caller think it failed, even if it actually carried out its \"real\" intended work without any problems.",
      "parentUuid": "62f4047c_9afbbf95",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "df2f7abd_88c10385",
        "filename": "create_usbhid.sh",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1001397
      },
      "writtenOn": "2022-05-03T21:33:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d5a4a413_26f269d8",
      "revId": "1fbb1156fa2c5cb9147e0c2cfe658c4056bda0cf",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}