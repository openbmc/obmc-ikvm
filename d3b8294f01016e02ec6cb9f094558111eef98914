{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fc269e58_9eb1ca64",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-09-27T08:00:44Z",
      "side": 1,
      "message": "Could you provide some more info on the motivation here?  (i.e. what functionality is missing that this provides, etc.)",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 12,
        "endChar": 37
      },
      "revId": "d3b8294f01016e02ec6cb9f094558111eef98914",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "19a5c9ca_91f5fb18",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1000652
      },
      "writtenOn": "2022-09-27T08:48:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fc269e58_9eb1ca64",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 12,
        "endChar": 37
      },
      "revId": "d3b8294f01016e02ec6cb9f094558111eef98914",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80d051cb_dfdfd455",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-09-27T20:13:37Z",
      "side": 1,
      "message": "I\u0027m afraid this doesn\u0027t really make things much clearer to me...I am admittedly missing some background on Redfish, but at least a brief summary of what NetworkProtocol is or does would be good.  Is there some end-user functionality that this enables?  Is it just for redfish spec compliance?",
      "parentUuid": "19a5c9ca_91f5fb18",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 12,
        "endChar": 37
      },
      "revId": "d3b8294f01016e02ec6cb9f094558111eef98914",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97c4260a_cc7adaf6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-10-05T02:00:03Z",
      "side": 1,
      "message": "I\u0027m assuming the motivation is that to change the port, today we rely on service files.\n\nI\u0027m still not really sure why we would do this.  The KVM doesn\u0027t directly support authentication, so you really shouldn\u0027t be exposing the socket outside of the BMC, which would mean that it shoudln\u0027t really be in Redfish.",
      "parentUuid": "80d051cb_dfdfd455",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 12,
        "endChar": 37
      },
      "revId": "d3b8294f01016e02ec6cb9f094558111eef98914",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1783f83c_9b0c6251",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-09-27T08:00:44Z",
      "side": 1,
      "message": "I don\u0027t know the redfish details here (adding Ed to the CC list in case he wants to chime in), but is this meant to imply that an external client should expect to be able to reach the service on port 5900?  The daemon only listens for localhost connections, so I\u0027m not sure it\u0027s a service we should really be advertising -- and even if we were to expose it, I believe it\u0027s RFC-non-compliant in some fairly critical ways that mean a lot of generic VNC/RFB clients wouldn\u0027t be able to interoperate with it anyway.",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 23,
        "endChar": 5
      },
      "revId": "d3b8294f01016e02ec6cb9f094558111eef98914",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f42173ca_b8d9387d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-10-05T02:00:03Z",
      "side": 1,
      "message": "\u003e I don\u0027t know the redfish details here (adding Ed to the CC list in case he wants to chime in), but is this meant to imply that an external client should expect to be able to reach the service on port 5900?\n\nYes\n\n\u003e  The daemon only listens for localhost connections,\n\nThat\u0027s the intent, but if I\u0027m reading this correctly, I think this changes that behavior.\n\n\n\u003e so I\u0027m not sure it\u0027s a service we should really be advertising -- and even if we were to expose it, I believe it\u0027s RFC-non-compliant in some fairly critical ways that mean a lot of generic VNC/RFB clients wouldn\u0027t be able to interoperate with it anyway.\n\nI thought it was RFB compliant (when we use it in the webui, we use the standard component) but just didn\u0027t have security.",
      "parentUuid": "1783f83c_9b0c6251",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 23,
        "endChar": 5
      },
      "revId": "d3b8294f01016e02ec6cb9f094558111eef98914",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76046bfb_66e4e7f3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-10-05T20:24:35Z",
      "side": 1,
      "message": "\u003e I thought it was RFB compliant\n\nA while back I was playing around with a toy client I wrote and ran into problems with negotiating the framebuffer update format/encoding...since it was a very dumb, simple client I had it sending a SetEncodings message specifying only the raw format, and the server appeared to accept that, but then carried on sending TightJPEG encoded updates instead -- I think that stems from some of the hard-coding going on here: https://github.com/openbmc/obmc-ikvm/blob/9d545472be11795239a6cdf736d44a50dde9289a/ikvm_server.cpp#L163-L166 (And that in turn I think is likely a side-effect of it being the format provided by the Aspeed video hardware.)\n\nFor clients that support that encoding and send it in their SetEncodings message (which might be fairly common) that part at least should work without a problem, but I also have some vague recollection of running into problems trying various existing (\"real\") VNC clients against obmc-ikvm (via an SSH port forward), though I don\u0027t recall the details...",
      "parentUuid": "f42173ca_b8d9387d",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 23,
        "endChar": 5
      },
      "revId": "d3b8294f01016e02ec6cb9f094558111eef98914",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}