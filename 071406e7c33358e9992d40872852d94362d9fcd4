{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "80b9fb11_2559b6f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001844
      },
      "writtenOn": "2025-11-11T06:35:33Z",
      "side": 1,
      "message": "Support for new SoC/Platform is always welcome. I would suggest looking for any existing open PRs which are similar.\n\nIMO it would be better to bring this as configurable option using -u parameter. https://gerrit.openbmc.org/c/openbmc/obmc-ikvm/+/79772/comments/ef679cfe_55657c6a",
      "revId": "071406e7c33358e9992d40872852d94362d9fcd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e6bc4d1_622c8be8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001886
      },
      "writtenOn": "2025-11-11T07:17:16Z",
      "side": 1,
      "message": "The -u option doesn’t work with the create_usbhid.sh script. This script still needs the changeset applied.\n\nThe -u option doesn’t validate if the UDC is valid. Likely needs a full rewrite of the related code. Addiing support to -u can be done as a separate PR. This PR only adds support for AST27XX UDC.\n\n```\n    try\n    {\n        if (udcName.empty())\n        {\n            bool found \u003d false;\n            for (const auto\u0026 port :\n                 fs::directory_iterator(getUsbVirtualHubPath()))\n            {\n                // /sys/bus/platform/devices/1e6a0000.usb-vhub/1e6a0000.usb-vhub:pX\n                if (fs::is_directory(port) \u0026\u0026 !fs::is_symlink(port))\n                {\n                    for (const auto\u0026 gadget :\n                         fs::directory_iterator(port.path()))\n                    {\n                        // Kernel 6.0:\n                        // /sys/.../1e6a0000.usb-vhub:pX/gadget.Y/suspended\n                        // Kernel 5.15:\n                        // /sys/.../1e6a0000.usb-vhub:pX/gadget/suspended\n                        if (fs::is_directory(gadget) \u0026\u0026\n                            gadget.path().string().find(\"gadget\") !\u003d\n                                std::string::npos \u0026\u0026\n                            !fs::exists(gadget.path() / \"suspended\"))\n                        {\n                            const std::string portId \u003d port.path().filename();\n                            hidUdcStream \u003c\u003c portId \u003c\u003c std::endl;\n                            found \u003d true;\n                            break;\n                        }\n                    }\n                }\n                if (found)\n                {\n                    break;\n                }\n            }\n        }\n        else // If UDC has been specified by \u0027-u\u0027 parameter, connect to it.\n        {\n            hidUdcStream \u003c\u003c udcName \u003c\u003c std::endl;\n        }\n    }\n\n```",
      "parentUuid": "80b9fb11_2559b6f1",
      "revId": "071406e7c33358e9992d40872852d94362d9fcd4",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ],
  "submitRequirementResults": []
}